
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Karrot Shrine</title>
  <link href="https://fonts.googleapis.com/css2?family=Salty&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Salty', cursive;
    }
    img {
      display: block;
      max-width: 100%;
    }
  </style>
</head>
<body class="relative bg-black text-white overflow-hidden">

  <!-- Background Glow -->
  <div class="absolute inset-0 z-0">
    <img src="img/ember-particles.gif" class="w-full h-full object-cover opacity-40 mix-blend-screen" alt="embers">
    <div class="absolute inset-0 bg-black opacity-70"></div>
  </div>

  <div class="relative z-10 min-h-screen flex flex-col justify-between">
    <!-- Hidden Scroll Glow -->
    <div class="absolute top-[6.5rem] left-0 w-full h-[300px] overflow-hidden z-0 pointer-events-none">
      <img src="img/stake-karrot.png" class="w-full h-full object-cover opacity-20" alt="">
    </div>

    <!-- Header -->
    <header class="flex flex-wrap items-center justify-between p-6 gap-4">
      <button id="dropdownButton" class="flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 via-blue-500 to-cyan-400 rounded text-white">
        <img src="img/pulsechain-logo.png" class="w-6 h-6" alt="PulseChain"> Explore PulseChain
      </button>
      <h1 class="text-6xl text-orange-400 drop-shadow-lg" style="margin-left:1in;">Karrot Shrine</h1>
      <div class="flex gap-4 items-center">
        <a href="https://x.com/PulseTvShow" target="_blank"><img src="img/pulse-tv-button.png" class="w-24 h-24 rounded" alt="PulseTV"></a>
        <a href="https://www.youtube.com/@yourfriendsommi" target="_blank"><img src="img/sommi-button.png" class="w-24 h-24 rounded" alt="Sommi"></a>
        <a href="#" id="karrotBrainBtn" title="Awaken the Brain">
          <img src="img/brain.png" alt="Karrot Brain" class="w-16 h-16 rounded-full hover:scale-110 transition duration-300">
        </a>
      </div>
      <ul id="dropdownMenu" class="absolute top-20 left-6 bg-gray-900 bg-opacity-95 rounded shadow-lg z-50">
        <!-- ... existing dropdown links unchanged ... -->
      </ul>
    </header>

    <!-- Shrine Logo -->
    <main class="flex justify-center items-center flex-1 p-6">
      <img src="img/karrot-hex.jpg" class="w-96 drop-shadow-xl" alt="Karrot Logo">
    </main>

    <!-- Scroll Panels -->
    <footer class="grid grid-cols-1 md:grid-cols-2 gap-6 px-6 pb-10">
      <!-- ... footer content unchanged ... -->
    </footer>
  </div>

  <!-- ðŸ“œ Contract Modal / Karrot Chat Box -->
  <div id="contractModal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center hidden z-50">
    <div class="relative bg-black bg-opacity-90 p-4 rounded shadow-lg border border-orange-500 max-w-lg w-full">
      <button onclick="closeModal()" class="absolute top-2 right-2 text-red-500 hover:underline text-xl">âœ–</button>
      <pre id="modalContent" class="whitespace-pre-wrap text-sm font-mono text-orange-200 p-2 overflow-y-auto max-h-64"></pre>
    </div>
  </div>

  <!-- ðŸ§  Ask Karrot Modal -->
  <div id="askKarrotModal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center hidden z-50">
    <div class="relative bg-black bg-opacity-90 rounded-lg p-8 w-full max-w-md shadow-2xl border border-orange-500">
      
      <!-- âœ… Replaced Broken Image with opendoor.jpeg -->
      <div class="absolute inset-0 z-0 rounded-lg overflow-hidden pointer-events-none">
        <img src="img/opendoor.jpeg" class="w-full h-full object-cover opacity-20" alt="Open Door Background" />
      </div>

      <!-- Input Content -->
      <div class="relative z-10 flex flex-col gap-4">
        <h2 class="text-orange-300 text-xl">What do you ask of Karrot?</h2>
        <input type="text" id="karrotUserInput" class="w-full px-4 py-2 text-black rounded shadow" placeholder="Type your question..." />
        <div class="flex justify-end gap-2 mt-2">
          <button onclick="closeAskModal()" class="text-red-500 hover:underline">Cancel</button>
          <button onclick="submitKarrotQuestion()" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded">Ask</button>
        </div>
      </div>
    </div>
  </div>

    <!-- Karrot Brain (Frontend Only) -->
  <script>
    const poePoems = [
    "Once upon a midnight dreary, while I pondered, weak and weary...",
    "Deep into that darkness peering, long I stood there wondering, fearing...",
    "And the silken sad uncertain rustling of each purple curtain...",
    "Ah, distinctly I remember it was in the bleak December...",
    "From childhood's hour I have not been as others wereâ€”I have not seen as others saw...",
    "Take this kiss upon the brow! And, in parting from you now...",
    "Lo! 'tis a gala night within the lonesome latter years!...",
    "In visions of the dark night I have dreamed of joy departedâ€”",
    "Thou wouldst be loved? â€” then let thy heart...",
    "Helen, thy beauty is to me like those Nicean barks of yore...",
    "I stand amid the roar of a surf-tormented shore...",
    "And the raven, never flitting, still is sitting, still is sitting...",
    "All that we see or seem is but a dream within a dream...",
    "I dwelt alone in a world of moan...",
    "By a route obscure and lonely, haunted by ill angels only...",
    "Dim vales â€” and shadowy floods â€” and cloudy-looking woods...",
    "Leave my loneliness unbroken! â€” quit the bust above my door!...",
    "Science! true daughter of Old Time thou art!",
    "Is all that we see or seem but a dream within a dream?",
    "Seraph! thy memory is to me...",
    "The skies they were ashen and sober; the leaves they were crisped and sere...",
    "Hear the sledges with the bellsâ€”silver bells!",
    "And so being young and dipped in folly, I fell in love with melancholy.",
    "It was many and many a year ago, in a kingdom by the sea...",
    "The angels, not half so happy in Heaven, went envying her and meâ€”",
    "With a love that the wingÃ¨d seraphs of Heaven coveted her and me.",
    "They who dream by day are cognizant of many things...",
    "We loved with a love that was more than love...",
    "In the greenest of our valleys, by good angels tenanted...",
    "Take thy beak from out my heart, and take thy form from off my door!",
    "This and more I sat divining, with my head at ease reclining...",
    "The soul shall find itself alone...",
    "I was a child and she was a child, in this kingdom by the sea...",
    "Over the mountains of the moon, down the valley of the shadow..."
  ];

    function getRandomLine() {
      return poePoems[Math.floor(Math.random() * poePoems.length)];
    }

    function getKarrotReply(prompt = "") {
      const tone = /poem|raven|dark/i.test(prompt) ? "dark" : "random";
      const line = getRandomLine();
      if (tone === "dark") {
        return `ðŸ–¤ Karrot whispers:\n"${line}"\n...and fades into thought.`;
      } else {
        return `ðŸ§  Karrot muses:\n"${line}"`;
      }
    }

    document.getElementById('karrotBrainBtn').addEventListener('click', (e) => {
      e.preventDefault();
      const input = document.getElementById('karrotUserInput');
      input.value = "";
      document.getElementById('askKarrotModal').classList.remove('hidden');
      setTimeout(() => input.focus(), 50);
    });

    window.submitKarrotQuestion = function () {
      const userInput = document.getElementById('karrotUserInput').value.trim();
      if (!userInput) return;
      const reply = getKarrotReply(userInput);
      const modalContent = document.getElementById('modalContent');
      modalContent.innerText = reply;
      closeAskModal();
      document.getElementById('contractModal').classList.remove('hidden');
    };

    window.closeAskModal = function () {
      document.getElementById('askKarrotModal').classList.add('hidden');
    };

    window.closeModal = function () {
      document.getElementById('contractModal').classList.add('hidden');
      document.getElementById('modalContent').innerText = "";
    };

    document.getElementById('dropdownButton').addEventListener('click', () => {
      document.getElementById('dropdownMenu').classList.toggle('hidden');
    });

    document.getElementById('karrotUserInput').addEventListener('keydown', function (e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        submitKarrotQuestion();
      }
    });
  </script>

</body>
</html>
