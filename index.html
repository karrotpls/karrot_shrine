<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Karrot Shrine</title>
  <link href="https://fonts.googleapis.com/css2?family=Salty&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Salty', cursive;
    }
    img {
      display: block;
      max-width: 100%;
    }
  </style>
</head>
<body class="relative bg-black text-white overflow-hidden">

  <!-- Main content here... -->
  <!-- Skipping for brevity, use your full layout above -->

  <!-- Brain Button (already in your layout) -->
  <a href="#" id="karrotBrainBtn" title="Awaken the Brain">
    <img src="img/brain.png" alt="Karrot Brain" class="w-16 h-16 rounded-full hover:scale-110 transition duration-300">
  </a>

  <!-- ASK KARROT MODAL -->
  <div id="askKarrotModal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center hidden z-50">
    <div class="relative bg-black bg-opacity-80 rounded-lg p-8 w-full max-w-md shadow-2xl border border-orange-500">
      <div class="absolute inset-0 z-0 rounded-lg overflow-hidden pointer-events-none">
        <img src="img/Lilly_karrot1.jpg" alt="Karrot Ask Background" class="w-full h-full object-cover opacity-20" />
      </div>
      <div class="relative z-10 flex flex-col gap-4">
        <h2 class="text-orange-300 text-xl">What do you ask of Karrot?</h2>
        <input type="text" id="karrotUserInput" class="w-full px-4 py-2 text-black rounded shadow" placeholder="Type your question..." />
        <div class="flex justify-end gap-2 mt-2">
          <button onclick="closeAskModal()" class="text-red-500 hover:underline">Cancel</button>
          <button onclick="submitKarrotQuestion()" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded">Ask</button>
        </div>
      </div>
    </div>
  </div>

  <!-- KARROT RESPONSE MODAL -->
  <div id="contractModal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center hidden z-50">
    <div class="relative bg-black rounded-lg p-8 w-full max-w-lg shadow-xl border border-orange-600">
      <!-- Background -->
      <div class="absolute inset-0 z-0 rounded-lg overflow-hidden pointer-events-none">
        <img src="img/Lilly_karrot1.jpg" alt="Karrot Background" class="w-full h-full object-cover opacity-20" />
      </div>

      <!-- Close Button -->
      <button onclick="closeModal()" class="text-red-500 font-bold absolute top-3 right-4 z-10 text-xl hover:scale-110 transition">âœ–</button>

      <!-- Content -->
      <div class="relative z-10">
        <h3 id="modalTitle" class="text-2xl font-semibold mb-4 drop-shadow-lg">ðŸ§  Karrot Says</h3>
        <pre id="modalContent" class="whitespace-pre-wrap text-sm font-mono text-orange-200 bg-black bg-opacity-40 p-4 rounded-lg shadow-inner max-h-64 overflow-y-auto"></pre>
      </div>
    </div>
  </div>

  <!-- JS LOGIC -->
 <script>
  const poePoems = [
    "Once upon a midnight dreary, while I pondered, weak and weary...",
    "Deep into that darkness peering, long I stood there wondering, fearing...",
    "And the silken sad uncertain rustling of each purple curtain...",
    "Ah, distinctly I remember it was in the bleak December...",
    "From childhood's hour I have not been as others wereâ€”I have not seen as others saw...",
    "Take this kiss upon the brow! And, in parting from you now...",
    "Lo! 'tis a gala night within the lonesome latter years!...",
    "In visions of the dark night I have dreamed of joy departedâ€”",
    "Thou wouldst be loved? â€” then let thy heart...",
    "Helen, thy beauty is to me like those Nicean barks of yore...",
    "I stand amid the roar of a surf-tormented shore...",
    "And the raven, never flitting, still is sitting, still is sitting...",
    "All that we see or seem is but a dream within a dream...",
    "I dwelt alone in a world of moan...",
    "By a route obscure and lonely, haunted by ill angels only...",
    "Dim vales â€” and shadowy floods â€” and cloudy-looking woods...",
    "Leave my loneliness unbroken! â€” quit the bust above my door!...",
    "Science! true daughter of Old Time thou art!",
    "Is all that we see or seem but a dream within a dream?",
    "Seraph! thy memory is to me...",
    "The skies they were ashen and sober; the leaves they were crisped and sere...",
    "Hear the sledges with the bellsâ€”silver bells!",
    "And so being young and dipped in folly, I fell in love with melancholy.",
    "It was many and many a year ago, in a kingdom by the sea...",
    "The angels, not half so happy in Heaven, went envying her and meâ€”",
    "With a love that the wingÃ¨d seraphs of Heaven coveted her and me.",
    "They who dream by day are cognizant of many things...",
    "We loved with a love that was more than love...",
    "In the greenest of our valleys, by good angels tenanted...",
    "Take thy beak from out my heart, and take thy form from off my door!",
    "This and more I sat divining, with my head at ease reclining...",
    "The soul shall find itself alone...",
    "I was a child and she was a child, in this kingdom by the sea...",
    "Over the mountains of the moon, down the valley of the shadow..."
  ];

    function getRandomLine() {
      return poePoems[Math.floor(Math.random() * poePoems.length)];
    }

    function getKarrotReply(prompt = "") {
      const tone = /poem|raven|dark/i.test(prompt) ? "dark" : "random";
      return tone === "dark"
        ? `ðŸ–¤ Karrot whispers:\n"${getRandomLine()}"\n...and fades into thought.`
        : `ðŸ§  Karrot muses:\n"${getRandomLine()}"`;
    }

    // Show Ask Modal
    document.getElementById('karrotBrainBtn').addEventListener('click', () => {
      document.getElementById('karrotUserInput').value = "";
      document.getElementById('askKarrotModal').classList.remove('hidden');
    });

    // Submit Question
    function submitKarrotQuestion() {
      const userInput = document.getElementById('karrotUserInput').value.trim();
      if (!userInput) return;

      const reply = getKarrotReply(userInput);

      document.getElementById('modalTitle').innerText = "ðŸ§  Karrot Responds";
      document.getElementById('modalContent').innerText = reply;

      closeAskModal();
      document.getElementById('contractModal').classList.remove('hidden');
    }

    // Close modals
    function closeAskModal() {
      document.getElementById('askKarrotModal').classList.add('hidden');
    }

    function closeModal() {
      document.getElementById('contractModal').classList.add('hidden');
    }

    // Toggle dropdown (if you're using it)
    const dropdownBtn = document.getElementById('dropdownButton');
    if (dropdownBtn) {
      dropdownBtn.addEventListener('click', () => {
        const dropdown = document.getElementById('dropdownMenu');
        if (dropdown) dropdown.classList.toggle('hidden');
      });
    }
  </script>
</body>
</html>

